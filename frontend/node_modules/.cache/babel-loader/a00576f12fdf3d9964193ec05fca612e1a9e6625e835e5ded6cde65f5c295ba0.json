{"ast":null,"code":"var _jsxFileName = \"D:\\\\Uknord5he\\\\BH3\\\\dev\\\\diplomas\\\\frontend\\\\src\\\\pages\\\\AdminPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport api from '../services/api'; // <- default импорт\nimport { getDiplomas, updateDiploma, deleteDiploma } from '../services/diplomaService';\nimport EditDiplomaModal from '../components/EditDiplomaModal';\n\n// invites\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nasync function fetchInvites() {\n  var _r$data;\n  const r = await api.get('/api/admin/invites');\n  return ((_r$data = r.data) === null || _r$data === void 0 ? void 0 : _r$data.items) || [];\n}\nasync function createInvite(minutes = 10) {\n  const r = await api.post('/api/admin/invites', {\n    expiresInMinutes: minutes\n  });\n  return r.data; // { id, code, createdAt, expiresAt }\n}\nasync function revokeInvite(id) {\n  await api.delete(`/api/admin/invites/${id}`);\n}\nexport default function AdminPage() {\n  _s();\n  const [sp, setSp] = useSearchParams();\n  const scope = sp.get('scope') || 'unverified'; // unverified | verified | all\n\n  const [query, setQuery] = useState(sp.get('q') || '');\n  const [sort, setSort] = useState(sp.get('sort') || 'createdAt');\n  const [dir, setDir] = useState(sp.get('dir') || 'desc');\n  const [diplomas, setDiplomas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [editing, setEditing] = useState(null);\n  const [invites, setInvites] = useState([]);\n  const [busyInvite, setBusyInvite] = useState(false);\n\n  // invites\n  const refreshInvites = async () => {\n    try {\n      const items = await fetchInvites();\n      setInvites(items);\n    } catch (e) {\n      console.error('invites:list', e);\n    }\n  };\n  useEffect(() => {\n    refreshInvites();\n  }, []);\n  const genInvite = async () => {\n    try {\n      setBusyInvite(true);\n      const inv = await createInvite(10);\n      setInvites(prev => [inv, ...prev]);\n      // опц.: alert(`Код: ${inv.code}`);\n    } catch (e) {\n      console.error('invites:create', e);\n    } finally {\n      setBusyInvite(false);\n    }\n  };\n  const copyCode = async code => {\n    try {\n      await navigator.clipboard.writeText(code);\n    } catch {}\n  };\n  const revoke = async id => {\n    try {\n      await revokeInvite(id);\n      setInvites(prev => prev.filter(i => i.id !== id));\n    } catch (e) {\n      console.error('invites:revoke', e);\n    }\n  };\n\n  // diplomas\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const filter = scope === 'unverified' ? {\n        verified: 'false',\n        is_verified: 'false'\n      } : scope === 'verified' ? {\n        verified: 'true',\n        is_verified: 'true'\n      } : {};\n      const data = await getDiplomas({\n        ...filter,\n        search: query || undefined,\n        sort,\n        dir,\n        page: 1,\n        limit: 50\n      });\n      setDiplomas(data.items || data);\n    } catch (e) {\n      console.error('diplomas:list', e);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, [scope, query, sort, dir]);\n  useEffect(() => {\n    const next = {};\n    if (scope !== 'unverified') next.scope = scope;\n    if (query) next.q = query;\n    if (sort !== 'createdAt') next.sort = sort;\n    if (dir !== 'desc') next.dir = dir;\n    setSp(next, {\n      replace: true\n    });\n  }, [scope, query, sort, dir, setSp]);\n  const toScope = s => setSp(s === 'unverified' ? {} : {\n    scope: s\n  }, {\n    replace: true\n  });\n  const handleVerifyToggle = async row => {\n    await updateDiploma(row.id, {\n      isVerified: !row.isVerified\n    });\n    fetchData();\n  };\n  const handleDelete = async id => {\n    if (!window.confirm('Видалити цей диплом? Дію не можна скасувати.')) return;\n    await deleteDiploma(id);\n    fetchData();\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold\",\n        children: \"\\u0410\\u0434\\u043C\\u0456\\u043D-\\u043F\\u0430\\u043D\\u0435\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-flex rounded overflow-hidden border\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toScope('unverified'),\n          className: `px-3 py-1 ${scope === 'unverified' ? 'bg-blue-600 text-white' : 'bg-white'}`,\n          title: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u0438 \\u043B\\u0438\\u0448\\u0435 \\u043D\\u0435\\u043F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0436\\u0435\\u043D\\u0456\",\n          children: \"\\u041D\\u0435\\u043F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0436\\u0435\\u043D\\u0456\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toScope('verified'),\n          className: `px-3 py-1 border-l ${scope === 'verified' ? 'bg-blue-600 text-white' : 'bg-white'}`,\n          title: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u0438 \\u043B\\u0438\\u0448\\u0435 \\u043F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0436\\u0435\\u043D\\u0456\",\n          children: \"\\u041F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0436\\u0435\\u043D\\u0456\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toScope('all'),\n          className: `px-3 py-1 border-l ${scope === 'all' ? 'bg-blue-600 text-white' : 'bg-white'}`,\n          title: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u0438 \\u0432\\u0441\\u0456\",\n          children: \"\\u0423\\u0441\\u0456\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded shadow mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold\",\n          children: \"\\u0406\\u043D\\u0432\\u0430\\u0439\\u0442-\\u043A\\u043E\\u0434\\u0438 (\\u0434\\u0456\\u044E\\u0442\\u044C 10 \\u0445\\u0432)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: genInvite,\n          disabled: busyInvite,\n          className: \"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700\",\n          children: busyInvite ? 'Створюю…' : 'Згенерувати'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 divide-y\",\n        children: invites.length ? invites.map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"py-2 flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono text-sm\",\n            children: i.code\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: i.expiresAt ? `до ${new Date(i.expiresAt).toLocaleTimeString()}` : 'без терміну'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => copyCode(i.code),\n              className: \"px-2 py-1 border rounded\",\n              children: \"\\u041A\\u043E\\u043F\\u0456\\u044E\\u0432\\u0430\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => revoke(i.id),\n              className: \"px-2 py-1 border rounded text-red-600\",\n              children: \"\\u0421\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 19\n          }, this)]\n        }, i.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 py-2\",\n          children: \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u0438\\u0445 \\u0456\\u043D\\u0432\\u0430\\u0439\\u0442\\u0456\\u0432 \\u043D\\u0435\\u043C\\u0430\\u0454.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-3 rounded shadow mb-3 flex flex-wrap items-end gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm mb-1\",\n          children: \"\\u041F\\u043E\\u0448\\u0443\\u043A (\\u041F\\u0406\\u0411 / \\u2116)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded px-3 py-2\",\n          value: query,\n          onChange: e => setQuery(e.target.value),\n          placeholder: \"\\u041D\\u0430\\u043F\\u0440.: \\u0406\\u0432\\u0430\\u043D\\u0435\\u043D\\u043A\\u043E \\u0430\\u0431\\u043E ABC123\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm mb-1\",\n          children: \"\\u0421\\u043E\\u0440\\u0442\\u0443\\u0432\\u0430\\u0442\\u0438 \\u0437\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border rounded px-3 py-2\",\n          value: sort,\n          onChange: e => setSort(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"createdAt\",\n            children: \"\\u0414\\u0430\\u0442\\u043E\\u044E \\u0434\\u043E\\u0434\\u0430\\u0432\\u0430\\u043D\\u043D\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"year\",\n            children: \"\\u0420\\u043E\\u043A\\u043E\\u043C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"studentName\",\n            children: \"\\u041F\\u0406\\u0411\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"diplomaNumber\",\n            children: \"\\u041D\\u043E\\u043C\\u0435\\u0440\\u043E\\u043C \\u0434\\u0438\\u043F\\u043B\\u043E\\u043C\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm mb-1\",\n          children: \"\\u041D\\u0430\\u043F\\u0440\\u044F\\u043C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border rounded px-3 py-2\",\n          value: dir,\n          onChange: e => setDir(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"desc\",\n            children: \"\\u0421\\u043F\\u0430\\u0434\\u0430\\u043D\\u043D\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"asc\",\n            children: \"\\u0417\\u0440\\u043E\\u0441\\u0442\\u0430\\u043D\\u043D\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchData,\n        className: \"px-3 py-2 border rounded\",\n        children: \"\\u041E\\u043D\\u043E\\u0432\\u0438\\u0442\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"min-w-full bg-white shadow rounded\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"bg-gray-100\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-2 text-left\",\n            children: \"\\u041F\\u0406\\u0411\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-2 text-left\",\n            children: \"\\u0421\\u043F\\u0435\\u0446\\u0456\\u0430\\u043B\\u044C\\u043D\\u0456\\u0441\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-2 text-left\",\n            children: \"\\u0420\\u0456\\u043A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-2 text-left\",\n            children: \"\\u041D\\u043E\\u043C\\u0435\\u0440\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-2 text-left\",\n            children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-2 text-left\",\n            children: \"\\u0414\\u0456\\u0457\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [diplomas.map(d => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"border-t\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-2\",\n            children: d.studentName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-2\",\n            children: d.specialty\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-2\",\n            children: d.year\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-2\",\n            children: d.diplomaNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-2\",\n            children: d.isVerified ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-700\",\n              children: \"\\u043F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0436\\u0435\\u043D\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 35\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-yellow-700\",\n              children: \"\\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 90\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-2 space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setEditing(d),\n              className: \"px-2 py-1 border rounded hover:bg-gray-50\",\n              children: \"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleVerifyToggle(d),\n              className: `px-2 py-1 rounded ${d.isVerified ? 'bg-gray-600 text-white hover:bg-gray-700' : 'bg-green-600 text-white hover:bg-green-700'}`,\n              title: d.isVerified ? 'Зняти підтвердження' : 'Підтвердити',\n              children: d.isVerified ? 'Зняти підтвердження' : 'Підтвердити'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(d.id),\n              className: \"bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700\",\n              children: \"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this)]\n        }, d.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 15\n        }, this)), !diplomas.length && /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"6\",\n            className: \"px-4 py-6 text-center text-gray-500\",\n            children: \"\\u041D\\u0435\\u043C\\u0430\\u0454 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0456\\u0432\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this), editing && /*#__PURE__*/_jsxDEV(EditDiplomaModal, {\n      open: !!editing,\n      item: editing,\n      onClose: () => setEditing(null),\n      onSaved: () => {\n        setEditing(null);\n        fetchData();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 7\n  }, this);\n}\n_s(AdminPage, \"gQ0VpGgjHKIS8SEpW3CZ5qJ+Fsg=\", false, function () {\n  return [useSearchParams];\n});\n_c = AdminPage;\nvar _c;\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"names":["React","useEffect","useState","useSearchParams","api","getDiplomas","updateDiploma","deleteDiploma","EditDiplomaModal","jsxDEV","_jsxDEV","fetchInvites","_r$data","r","get","data","items","createInvite","minutes","post","expiresInMinutes","revokeInvite","id","delete","AdminPage","_s","sp","setSp","scope","query","setQuery","sort","setSort","dir","setDir","diplomas","setDiplomas","loading","setLoading","editing","setEditing","invites","setInvites","busyInvite","setBusyInvite","refreshInvites","e","console","error","genInvite","inv","prev","copyCode","code","navigator","clipboard","writeText","revoke","filter","i","fetchData","verified","is_verified","search","undefined","page","limit","next","q","replace","toScope","s","handleVerifyToggle","row","isVerified","handleDelete","window","confirm","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","title","disabled","length","map","expiresAt","Date","toLocaleTimeString","value","onChange","target","placeholder","d","studentName","specialty","year","diplomaNumber","colSpan","open","item","onClose","onSaved","_c","$RefreshReg$"],"sources":["D:/Uknord5he/BH3/dev/diplomas/frontend/src/pages/AdminPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport api from '../services/api';                   // <- default импорт\nimport { getDiplomas, updateDiploma, deleteDiploma } from '../services/diplomaService';\nimport EditDiplomaModal from '../components/EditDiplomaModal';\n\n// invites\nasync function fetchInvites() {\n  const r = await api.get('/api/admin/invites');\n  return r.data?.items || [];\n}\nasync function createInvite(minutes = 10) {\n  const r = await api.post('/api/admin/invites', { expiresInMinutes: minutes });\n  return r.data; // { id, code, createdAt, expiresAt }\n}\nasync function revokeInvite(id) {\n  await api.delete(`/api/admin/invites/${id}`);\n}\n\nexport default function AdminPage() {\n  const [sp, setSp] = useSearchParams();\n  const scope = sp.get('scope') || 'unverified'; // unverified | verified | all\n\n  const [query, setQuery] = useState(sp.get('q') || '');\n  const [sort, setSort]   = useState(sp.get('sort') || 'createdAt');\n  const [dir, setDir]     = useState(sp.get('dir')  || 'desc');\n\n  const [diplomas, setDiplomas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [editing, setEditing] = useState(null);\n\n  const [invites, setInvites] = useState([]);\n  const [busyInvite, setBusyInvite] = useState(false);\n\n  // invites\n  const refreshInvites = async () => {\n    try {\n      const items = await fetchInvites();\n      setInvites(items);\n    } catch (e) {\n      console.error('invites:list', e);\n    }\n  };\n  useEffect(() => { refreshInvites(); }, []);\n\n  const genInvite = async () => {\n    try {\n      setBusyInvite(true);\n      const inv = await createInvite(10);\n      setInvites(prev => [inv, ...prev]);\n      // опц.: alert(`Код: ${inv.code}`);\n    } catch (e) {\n      console.error('invites:create', e);\n    } finally {\n      setBusyInvite(false);\n    }\n  };\n  const copyCode = async (code) => { try { await navigator.clipboard.writeText(code); } catch {} };\n  const revoke = async (id) => {\n    try {\n      await revokeInvite(id);\n      setInvites(prev => prev.filter(i => i.id !== id));\n    } catch (e) {\n      console.error('invites:revoke', e);\n    }\n  };\n\n  // diplomas\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const filter =\n          scope === 'unverified' ? { verified: 'false', is_verified: 'false' } :\n              scope === 'verified'   ? { verified: 'true',  is_verified: 'true'  } :\n                  {};\n      const data = await getDiplomas({\n        ...filter,\n        search: query || undefined,\n        sort, dir,\n        page: 1, limit: 50\n      });\n      setDiplomas(data.items || data);\n    } catch (e) {\n      console.error('diplomas:list', e);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => { fetchData(); }, [scope, query, sort, dir]);\n\n  useEffect(() => {\n    const next = {};\n    if (scope !== 'unverified') next.scope = scope;\n    if (query) next.q = query;\n    if (sort !== 'createdAt') next.sort = sort;\n    if (dir  !== 'desc')      next.dir  = dir;\n    setSp(next, { replace: true });\n  }, [scope, query, sort, dir, setSp]);\n\n  const toScope = (s) => setSp(s === 'unverified' ? {} : { scope: s }, { replace: true });\n\n  const handleVerifyToggle = async (row) => {\n    await updateDiploma(row.id, { isVerified: !row.isVerified });\n    fetchData();\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('Видалити цей диплом? Дію не можна скасувати.')) return;\n    await deleteDiploma(id);\n    fetchData();\n  };\n\n  if (loading) return <p>Завантаження...</p>;\n\n  return (\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-2xl font-semibold\">Адмін-панель</h2>\n          <div className=\"inline-flex rounded overflow-hidden border\">\n            <button\n                onClick={() => toScope('unverified')}\n                className={`px-3 py-1 ${scope === 'unverified' ? 'bg-blue-600 text-white' : 'bg-white'}`}\n                title=\"Показати лише непідтверджені\"\n            >\n              Непідтверджені\n            </button>\n            <button\n                onClick={() => toScope('verified')}\n                className={`px-3 py-1 border-l ${scope === 'verified' ? 'bg-blue-600 text-white' : 'bg-white'}`}\n                title=\"Показати лише підтверджені\"\n            >\n              Підтверджені\n            </button>\n            <button\n                onClick={() => toScope('all')}\n                className={`px-3 py-1 border-l ${scope === 'all' ? 'bg-blue-600 text-white' : 'bg-white'}`}\n                title=\"Показати всі\"\n            >\n              Усі\n            </button>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-4 rounded shadow mb-4\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"font-semibold\">Інвайт-коди (діють 10 хв)</h3>\n            <button onClick={genInvite} disabled={busyInvite} className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700\">\n              {busyInvite ? 'Створюю…' : 'Згенерувати'}\n            </button>\n          </div>\n          <div className=\"mt-2 divide-y\">\n            {invites.length ? invites.map(i => (\n                <div key={i.id} className=\"py-2 flex items-center justify-between\">\n                  <div className=\"font-mono text-sm\">{i.code}</div>\n                  <div className=\"text-sm text-gray-600\">\n                    {i.expiresAt ? `до ${new Date(i.expiresAt).toLocaleTimeString()}` : 'без терміну'}\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button onClick={() => copyCode(i.code)} className=\"px-2 py-1 border rounded\">Копіювати</button>\n                    <button onClick={() => revoke(i.id)} className=\"px-2 py-1 border rounded text-red-600\">Скасувати</button>\n                  </div>\n                </div>\n            )) : <p className=\"text-gray-500 py-2\">Активних інвайтів немає.</p>}\n          </div>\n        </div>\n\n        <div className=\"bg-white p-3 rounded shadow mb-3 flex flex-wrap items-end gap-3\">\n          <div>\n            <label className=\"block text-sm mb-1\">Пошук (ПІБ / №)</label>\n            <input\n                className=\"border rounded px-3 py-2\"\n                value={query}\n                onChange={e => setQuery(e.target.value)}\n                placeholder=\"Напр.: Іваненко або ABC123\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm mb-1\">Сортувати за</label>\n            <select\n                className=\"border rounded px-3 py-2\"\n                value={sort}\n                onChange={e => setSort(e.target.value)}\n            >\n              <option value=\"createdAt\">Датою додавання</option>\n              <option value=\"year\">Роком</option>\n              <option value=\"studentName\">ПІБ</option>\n              <option value=\"diplomaNumber\">Номером диплому</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-sm mb-1\">Напрям</label>\n            <select\n                className=\"border rounded px-3 py-2\"\n                value={dir}\n                onChange={e => setDir(e.target.value)}\n            >\n              <option value=\"desc\">Спадання</option>\n              <option value=\"asc\">Зростання</option>\n            </select>\n          </div>\n          <button onClick={fetchData} className=\"px-3 py-2 border rounded\">Оновити</button>\n        </div>\n\n        <table className=\"min-w-full bg-white shadow rounded\">\n          <thead className=\"bg-gray-100\">\n          <tr>\n            <th className=\"px-4 py-2 text-left\">ПІБ</th>\n            <th className=\"px-4 py-2 text-left\">Спеціальність</th>\n            <th className=\"px-4 py-2 text-left\">Рік</th>\n            <th className=\"px-4 py-2 text-left\">Номер</th>\n            <th className=\"px-4 py-2 text-left\">Статус</th>\n            <th className=\"px-4 py-2 text-left\">Дії</th>\n          </tr>\n          </thead>\n          <tbody>\n          {diplomas.map(d => (\n              <tr key={d.id} className=\"border-t\">\n                <td className=\"px-4 py-2\">{d.studentName}</td>\n                <td className=\"px-4 py-2\">{d.specialty}</td>\n                <td className=\"px-4 py-2\">{d.year}</td>\n                <td className=\"px-4 py-2\">{d.diplomaNumber}</td>\n                <td className=\"px-4 py-2\">\n                  {d.isVerified ? <span className=\"text-green-700\">підтверджено</span> : <span className=\"text-yellow-700\">очікує</span>}\n                </td>\n                <td className=\"px-4 py-2 space-x-2\">\n                  <button\n                      onClick={() => setEditing(d)}\n                      className=\"px-2 py-1 border rounded hover:bg-gray-50\"\n                  >\n                    Редагувати\n                  </button>\n                  <button\n                      onClick={() => handleVerifyToggle(d)}\n                      className={`px-2 py-1 rounded ${d.isVerified ? 'bg-gray-600 text-white hover:bg-gray-700' : 'bg-green-600 text-white hover:bg-green-700'}`}\n                      title={d.isVerified ? 'Зняти підтвердження' : 'Підтвердити'}\n                  >\n                    {d.isVerified ? 'Зняти підтвердження' : 'Підтвердити'}\n                  </button>\n                  <button\n                      onClick={() => handleDelete(d.id)}\n                      className=\"bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700\"\n                  >\n                    Видалити\n                  </button>\n                </td>\n              </tr>\n          ))}\n          {!diplomas.length && (\n              <tr>\n                <td colSpan=\"6\" className=\"px-4 py-6 text-center text-gray-500\">Немає записів</td>\n              </tr>\n          )}\n          </tbody>\n        </table>\n\n        {editing && (\n            <EditDiplomaModal\n                open={!!editing}\n                item={editing}\n                onClose={() => setEditing(null)}\n                onSaved={() => { setEditing(null); fetchData(); }}\n            />\n        )}\n      </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}