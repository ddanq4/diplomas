{"ast":null,"code":"var _jsxFileName = \"D:\\\\Uknord5he\\\\BH3\\\\dev\\\\diplomas\\\\frontend\\\\src\\\\components\\\\EditDiplomaModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState, useMemo } from 'react';\nimport { updateDiploma, getFilters } from '../services/diplomaService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAX_FILE_MB = Number(process.env.REACT_APP_MAX_FILE_MB || 10);\nconst ALLOWED_EXTS = ['pdf', 'png', 'jpg', 'jpeg'];\nconst extOf = (name = '') => {\n  var _String$toLowerCase$m;\n  return ((_String$toLowerCase$m = String(name).toLowerCase().match(/\\.([a-z0-9]+)(?:\\?.*)?$/)) === null || _String$toLowerCase$m === void 0 ? void 0 : _String$toLowerCase$m[1]) || '';\n};\nconst isAllowedType = file => !!file && (ALLOWED_EXTS.includes(extOf(file.name)) || file.type === 'application/pdf' || file.type === 'image/png' || file.type === 'image/jpeg');\nconst formatSize = bytes => `${(bytes / 1024 / 1024).toFixed(1)} МБ`;\nconst validateFile = file => {\n  if (!file) return {\n    ok: true\n  };\n  if (!isAllowedType(file)) return {\n    ok: false,\n    message: 'Дозволені лише PDF, PNG, JPG'\n  };\n  if (file.size > MAX_FILE_MB * 1024 * 1024) return {\n    ok: false,\n    message: `Максимальний розмір ${MAX_FILE_MB} МБ (ваш ${formatSize(file.size)})`\n  };\n  return {\n    ok: true\n  };\n};\nexport default function EditDiplomaModal({\n  diploma,\n  onClose,\n  onSaved\n}) {\n  _s();\n  const fileRef = useRef(null);\n  const [opts, setOpts] = useState({\n    facultiesOptions: [],\n    specialtyOptionsByFacultyKey: {}\n  });\n  const [form, setForm] = useState({\n    id: (diploma === null || diploma === void 0 ? void 0 : diploma.id) || '',\n    studentName: (diploma === null || diploma === void 0 ? void 0 : diploma.studentName) || '',\n    facultyKey: '',\n    specialty: (diploma === null || diploma === void 0 ? void 0 : diploma.specialty) || '',\n    year: (diploma === null || diploma === void 0 ? void 0 : diploma.year) || '',\n    diplomaNumber: (diploma === null || diploma === void 0 ? void 0 : diploma.diplomaNumber) || '',\n    isVerified: Boolean(diploma === null || diploma === void 0 ? void 0 : diploma.isVerified)\n  });\n  const [file, setFile] = useState(null);\n  const [err, setErr] = useState('');\n  const [busy, setBusy] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const allSpecOptions = useMemo(() => {\n    const seen = new Set();\n    const all = [];\n    Object.values(opts.specialtyOptionsByFacultyKey).forEach(arr => {\n      (arr || []).forEach(s => {\n        if (!seen.has(s.key)) {\n          seen.add(s.key);\n          all.push({\n            key: s.key,\n            label: s.label\n          });\n        }\n      });\n    });\n    return all;\n  }, [opts.specialtyOptionsByFacultyKey]);\n  const specList = form.facultyKey ? opts.specialtyOptionsByFacultyKey[form.facultyKey] || [] : [];\n  const normalizeSpecialtyToKey = val => {\n    if (!val) return val;\n    const byKey = allSpecOptions.find(s => s.key === val);\n    if (byKey) return byKey.key;\n    const byLabel = allSpecOptions.find(s => s.label === val);\n    return byLabel ? byLabel.key : val;\n  };\n  useEffect(() => {\n    (async () => {\n      try {\n        const data = await getFilters();\n        setOpts({\n          facultiesOptions: data.facultiesOptions || [],\n          specialtyOptionsByFacultyKey: data.specialtyOptionsByFacultyKey || {}\n        });\n\n        // авто-определение факультета по specialty\n        const byKey = data.specialtyOptionsByFacultyKey || {};\n        let found = '';\n        for (const [fk, arr] of Object.entries(byKey)) {\n          if ((arr || []).some(s => s.key === ((diploma === null || diploma === void 0 ? void 0 : diploma.specialty) || ''))) {\n            found = fk;\n            break;\n          }\n        }\n        setForm(prev => ({\n          ...prev,\n          facultyKey: found\n        }));\n      } catch (e) {\n        var _e$payload;\n        setErr((e === null || e === void 0 ? void 0 : (_e$payload = e.payload) === null || _e$payload === void 0 ? void 0 : _e$payload.message) || (e === null || e === void 0 ? void 0 : e.message) || 'Помилка завантаження довідників');\n      }\n    })();\n  }, [diploma === null || diploma === void 0 ? void 0 : diploma.id]);\n  useEffect(() => {\n    setForm({\n      id: (diploma === null || diploma === void 0 ? void 0 : diploma.id) || '',\n      studentName: (diploma === null || diploma === void 0 ? void 0 : diploma.studentName) || '',\n      facultyKey: '',\n      specialty: (diploma === null || diploma === void 0 ? void 0 : diploma.specialty) || '',\n      year: (diploma === null || diploma === void 0 ? void 0 : diploma.year) || '',\n      diplomaNumber: (diploma === null || diploma === void 0 ? void 0 : diploma.diplomaNumber) || '',\n      isVerified: Boolean(diploma === null || diploma === void 0 ? void 0 : diploma.isVerified)\n    });\n    setFile(null);\n    setErr('');\n    setProgress(0);\n  }, [diploma === null || diploma === void 0 ? void 0 : diploma.id, diploma === null || diploma === void 0 ? void 0 : diploma.studentName, diploma === null || diploma === void 0 ? void 0 : diploma.specialty, diploma === null || diploma === void 0 ? void 0 : diploma.year, diploma === null || diploma === void 0 ? void 0 : diploma.diplomaNumber, diploma === null || diploma === void 0 ? void 0 : diploma.isVerified]);\n  const onChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked,\n      files\n    } = e.target;\n    if (name === 'file') {\n      setFile((files === null || files === void 0 ? void 0 : files[0]) || null);\n      return;\n    }\n    if (type === 'checkbox') {\n      setForm(prev => ({\n        ...prev,\n        [name]: checked\n      }));\n      return;\n    }\n    setForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (name === 'facultyKey') setForm(prev => ({\n      ...prev,\n      specialty: ''\n    }));\n  };\n  const onSubmit = async e => {\n    var _fileRef$current, _fileRef$current$file;\n    e.preventDefault();\n    setErr('');\n    const realFile = file || ((_fileRef$current = fileRef.current) === null || _fileRef$current === void 0 ? void 0 : (_fileRef$current$file = _fileRef$current.files) === null || _fileRef$current$file === void 0 ? void 0 : _fileRef$current$file[0]) || null;\n    const vf = validateFile(realFile);\n    if (!vf.ok) {\n      setErr(vf.message);\n      return;\n    }\n    try {\n      setBusy(true);\n      const fd = new FormData();\n      fd.append('studentName', form.studentName.trim());\n      fd.append('specialty', normalizeSpecialtyToKey(form.specialty));\n      fd.append('year', String(form.year));\n      fd.append('diplomaNumber', form.diplomaNumber.trim());\n      fd.append('isVerified', form.isVerified ? 'true' : 'false');\n      if (realFile) fd.append('file', realFile);\n      const saved = await updateDiploma(form.id, fd);\n      onSaved && onSaved(saved);\n      onClose && onClose();\n    } catch (e2) {\n      var _e2$payload;\n      setErr((e2 === null || e2 === void 0 ? void 0 : (_e2$payload = e2.payload) === null || _e2$payload === void 0 ? void 0 : _e2$payload.message) || (e2 === null || e2 === void 0 ? void 0 : e2.message) || 'Помилка збереження');\n    } finally {\n      setBusy(false);\n      setProgress(0);\n    }\n  };\n  if (!diploma) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/40 flex items-center justify-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-neutral-900 rounded-xl p-5 w-full max-w-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold\",\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u0442\\u0438 \\u0434\\u0438\\u043F\\u043B\\u043E\\u043C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-2 py-1 border rounded\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 text-red-600\",\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"studentName\",\n          value: form.studentName,\n          onChange: onChange,\n          placeholder: \"\\u041F\\u0406\\u0411\",\n          className: \"w-full border p-2 rounded\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"facultyKey\",\n          value: form.facultyKey,\n          onChange: onChange,\n          className: \"w-full border p-2 rounded\",\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u041E\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u0444\\u0430\\u043A\\u0443\\u043B\\u044C\\u0442\\u0435\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), opts.facultiesOptions.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: f.key,\n            children: f.name\n          }, f.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 59\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"specialty\",\n          value: form.specialty,\n          onChange: onChange,\n          className: \"w-full border p-2 rounded\",\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: form.facultyKey ? 'Оберіть спеціальність' : 'Спочатку оберіть факультет'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), (form.facultyKey ? opts.specialtyOptionsByFacultyKey[form.facultyKey] || [] : []).map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: s.key,\n            children: s.label\n          }, s.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"year\",\n            type: \"number\",\n            min: \"1900\",\n            max: \"2100\",\n            value: form.year,\n            onChange: onChange,\n            placeholder: \"\\u0420\\u0456\\u043A\",\n            className: \"w-40 border p-2 rounded\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"diplomaNumber\",\n            value: form.diplomaNumber,\n            onChange: onChange,\n            placeholder: \"\\u2116 \\u0434\\u0438\\u043F\\u043B\\u043E\\u043C\\u0443\",\n            className: \"flex-1 border p-2 rounded\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"inline-flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            name: \"isVerified\",\n            checked: form.isVerified,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u041F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0436\\u0435\\u043D\\u043E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileRef,\n            name: \"file\",\n            type: \"file\",\n            accept: \"application/pdf,image/png,image/jpeg\",\n            onChange: onChange,\n            className: \"w-full border p-2 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs opacity-70\",\n            children: [\"\\u0414\\u043E\\u0437\\u0432\\u043E\\u043B\\u0435\\u043D\\u043E: pdf, png, jpg. \\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0443\\u043C: \", MAX_FILE_MB, \" \\u041C\\u0411. (\\u041D\\u0435 \\u043E\\u0431\\u043E\\u0432\\u02BC\\u044F\\u0437\\u043A\\u043E\\u0432\\u043E)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), progress > 0 && progress < 100 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-2 bg-gray-200 rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-2 rounded bg-blue-600\",\n            style: {\n              width: `${progress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2 pt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            className: \"px-4 py-2 border rounded\",\n            children: \"\\u0421\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: busy,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded\",\n            children: busy ? 'Збереження…' : 'Зберегти'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 9\n  }, this);\n}\n_s(EditDiplomaModal, \"6jMIIvoG+qRz6GtMSwd+JmCjA6E=\");\n_c = EditDiplomaModal;\nvar _c;\n$RefreshReg$(_c, \"EditDiplomaModal\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useMemo","updateDiploma","getFilters","jsxDEV","_jsxDEV","MAX_FILE_MB","Number","process","env","REACT_APP_MAX_FILE_MB","ALLOWED_EXTS","extOf","name","_String$toLowerCase$m","String","toLowerCase","match","isAllowedType","file","includes","type","formatSize","bytes","toFixed","validateFile","ok","message","size","EditDiplomaModal","diploma","onClose","onSaved","_s","fileRef","opts","setOpts","facultiesOptions","specialtyOptionsByFacultyKey","form","setForm","id","studentName","facultyKey","specialty","year","diplomaNumber","isVerified","Boolean","setFile","err","setErr","busy","setBusy","progress","setProgress","allSpecOptions","seen","Set","all","Object","values","forEach","arr","s","has","key","add","push","label","specList","normalizeSpecialtyToKey","val","byKey","find","byLabel","data","found","fk","entries","some","prev","e","_e$payload","payload","onChange","value","checked","files","target","onSubmit","_fileRef$current","_fileRef$current$file","preventDefault","realFile","current","vf","fd","FormData","append","trim","saved","e2","_e2$payload","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","placeholder","required","map","f","min","max","ref","accept","style","width","disabled","_c","$RefreshReg$"],"sources":["D:/Uknord5he/BH3/dev/diplomas/frontend/src/components/EditDiplomaModal.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from 'react';\r\nimport { updateDiploma, getFilters } from '../services/diplomaService';\r\n\r\nconst MAX_FILE_MB = Number(process.env.REACT_APP_MAX_FILE_MB || 10);\r\nconst ALLOWED_EXTS = ['pdf', 'png', 'jpg', 'jpeg'];\r\n\r\nconst extOf = (name = '') => (String(name).toLowerCase().match(/\\.([a-z0-9]+)(?:\\?.*)?$/)?.[1] || '');\r\nconst isAllowedType = (file) =>\r\n    !!file && (ALLOWED_EXTS.includes(extOf(file.name)) || file.type === 'application/pdf' || file.type === 'image/png' || file.type === 'image/jpeg');\r\nconst formatSize = (bytes) => `${(bytes / 1024 / 1024).toFixed(1)} МБ`;\r\nconst validateFile = (file) => {\r\n    if (!file) return { ok: true };\r\n    if (!isAllowedType(file)) return { ok: false, message: 'Дозволені лише PDF, PNG, JPG' };\r\n    if (file.size > MAX_FILE_MB * 1024 * 1024) return { ok: false, message: `Максимальний розмір ${MAX_FILE_MB} МБ (ваш ${formatSize(file.size)})` };\r\n    return { ok: true };\r\n};\r\n\r\nexport default function EditDiplomaModal({ diploma, onClose, onSaved }) {\r\n    const fileRef = useRef(null);\r\n    const [opts, setOpts] = useState({ facultiesOptions: [], specialtyOptionsByFacultyKey: {} });\r\n    const [form, setForm] = useState({\r\n        id: diploma?.id || '',\r\n        studentName: diploma?.studentName || '',\r\n        facultyKey: '',\r\n        specialty: diploma?.specialty || '',\r\n        year: diploma?.year || '',\r\n        diplomaNumber: diploma?.diplomaNumber || '',\r\n        isVerified: Boolean(diploma?.isVerified),\r\n    });\r\n    const [file, setFile] = useState(null);\r\n    const [err, setErr] = useState('');\r\n    const [busy, setBusy] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n\r\n    const allSpecOptions = useMemo(() => {\r\n        const seen = new Set(); const all = [];\r\n        Object.values(opts.specialtyOptionsByFacultyKey).forEach(arr => {\r\n            (arr || []).forEach(s => { if (!seen.has(s.key)) { seen.add(s.key); all.push({ key: s.key, label: s.label }); } });\r\n        });\r\n        return all;\r\n    }, [opts.specialtyOptionsByFacultyKey]);\r\n\r\n    const specList = form.facultyKey ? (opts.specialtyOptionsByFacultyKey[form.facultyKey] || []) : [];\r\n\r\n    const normalizeSpecialtyToKey = (val) => {\r\n        if (!val) return val;\r\n        const byKey = allSpecOptions.find(s => s.key === val);\r\n        if (byKey) return byKey.key;\r\n        const byLabel = allSpecOptions.find(s => s.label === val);\r\n        return byLabel ? byLabel.key : val;\r\n    };\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const data = await getFilters();\r\n                setOpts({\r\n                    facultiesOptions: data.facultiesOptions || [],\r\n                    specialtyOptionsByFacultyKey: data.specialtyOptionsByFacultyKey || {},\r\n                });\r\n\r\n                // авто-определение факультета по specialty\r\n                const byKey = data.specialtyOptionsByFacultyKey || {};\r\n                let found = '';\r\n                for (const [fk, arr] of Object.entries(byKey)) {\r\n                    if ((arr || []).some((s) => s.key === (diploma?.specialty || ''))) { found = fk; break; }\r\n                }\r\n                setForm(prev => ({ ...prev, facultyKey: found }));\r\n            } catch (e) {\r\n                setErr(e?.payload?.message || e?.message || 'Помилка завантаження довідників');\r\n            }\r\n        })();\r\n    }, [diploma?.id]);\r\n\r\n    useEffect(() => {\r\n        setForm({\r\n            id: diploma?.id || '',\r\n            studentName: diploma?.studentName || '',\r\n            facultyKey: '',\r\n            specialty: diploma?.specialty || '',\r\n            year: diploma?.year || '',\r\n            diplomaNumber: diploma?.diplomaNumber || '',\r\n            isVerified: Boolean(diploma?.isVerified),\r\n        });\r\n        setFile(null); setErr(''); setProgress(0);\r\n    }, [diploma?.id, diploma?.studentName, diploma?.specialty, diploma?.year, diploma?.diplomaNumber, diploma?.isVerified]);\r\n\r\n    const onChange = (e) => {\r\n        const { name, value, type, checked, files } = e.target;\r\n        if (name === 'file') { setFile(files?.[0] || null); return; }\r\n        if (type === 'checkbox') { setForm(prev => ({ ...prev, [name]: checked })); return; }\r\n        setForm(prev => ({ ...prev, [name]: value }));\r\n        if (name === 'facultyKey') setForm(prev => ({ ...prev, specialty: '' }));\r\n    };\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setErr('');\r\n\r\n        const realFile = file || fileRef.current?.files?.[0] || null;\r\n        const vf = validateFile(realFile);\r\n        if (!vf.ok) { setErr(vf.message); return; }\r\n\r\n        try {\r\n            setBusy(true);\r\n            const fd = new FormData();\r\n            fd.append('studentName', form.studentName.trim());\r\n            fd.append('specialty', normalizeSpecialtyToKey(form.specialty));\r\n            fd.append('year', String(form.year));\r\n            fd.append('diplomaNumber', form.diplomaNumber.trim());\r\n            fd.append('isVerified', form.isVerified ? 'true' : 'false');\r\n            if (realFile) fd.append('file', realFile);\r\n\r\n            const saved = await updateDiploma(form.id, fd);\r\n            onSaved && onSaved(saved);\r\n            onClose && onClose();\r\n        } catch (e2) {\r\n            setErr(e2?.payload?.message || e2?.message || 'Помилка збереження');\r\n        } finally {\r\n            setBusy(false);\r\n            setProgress(0);\r\n        }\r\n    };\r\n\r\n    if (!diploma) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white dark:bg-neutral-900 rounded-xl p-5 w-full max-w-xl\">\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                    <h2 className=\"text-xl font-semibold\">Редагувати диплом</h2>\r\n                    <button onClick={onClose} className=\"px-2 py-1 border rounded\">×</button>\r\n                </div>\r\n\r\n                {err && <div className=\"mb-3 text-red-600\">{err}</div>}\r\n\r\n                <form onSubmit={onSubmit} className=\"space-y-3\">\r\n                    <input name=\"studentName\" value={form.studentName} onChange={onChange} placeholder=\"ПІБ\" className=\"w-full border p-2 rounded\" required/>\r\n\r\n                    <select name=\"facultyKey\" value={form.facultyKey} onChange={onChange} className=\"w-full border p-2 rounded\" required>\r\n                        <option value=\"\">Оберіть факультет</option>\r\n                        {opts.facultiesOptions.map((f) => <option key={f.key} value={f.key}>{f.name}</option>)}\r\n                    </select>\r\n\r\n                    <select name=\"specialty\" value={form.specialty} onChange={onChange} className=\"w-full border p-2 rounded\" required>\r\n                        <option value=\"\">{form.facultyKey ? 'Оберіть спеціальність' : 'Спочатку оберіть факультет'}</option>\r\n                        {(form.facultyKey ? (opts.specialtyOptionsByFacultyKey[form.facultyKey] || []) : []).map(s => (\r\n                            <option key={s.key} value={s.key}>{s.label}</option>\r\n                        ))}\r\n                    </select>\r\n\r\n                    <div className=\"flex gap-2\">\r\n                        <input name=\"year\" type=\"number\" min=\"1900\" max=\"2100\" value={form.year} onChange={onChange} placeholder=\"Рік\" className=\"w-40 border p-2 rounded\" required/>\r\n                        <input name=\"diplomaNumber\" value={form.diplomaNumber} onChange={onChange} placeholder=\"№ диплому\" className=\"flex-1 border p-2 rounded\" required/>\r\n                    </div>\r\n\r\n                    <label className=\"inline-flex items-center gap-2\">\r\n                        <input type=\"checkbox\" name=\"isVerified\" checked={form.isVerified} onChange={onChange}/>\r\n                        <span>Підтверджено</span>\r\n                    </label>\r\n\r\n                    <div className=\"space-y-1\">\r\n                        <input ref={fileRef} name=\"file\" type=\"file\" accept=\"application/pdf,image/png,image/jpeg\" onChange={onChange} className=\"w-full border p-2 rounded\"/>\r\n                        <div className=\"text-xs opacity-70\">Дозволено: pdf, png, jpg. Максимум: {MAX_FILE_MB} МБ. (Не обовʼязково)</div>\r\n                    </div>\r\n\r\n                    {progress > 0 && progress < 100 && (\r\n                        <div className=\"w-full h-2 bg-gray-200 rounded\">\r\n                            <div className=\"h-2 rounded bg-blue-600\" style={{ width: `${progress}%` }} />\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"flex justify-end gap-2 pt-2\">\r\n                        <button type=\"button\" onClick={onClose} className=\"px-4 py-2 border rounded\">Скасувати</button>\r\n                        <button disabled={busy} className=\"px-4 py-2 bg-blue-600 text-white rounded\">{busy ? 'Збереження…' : 'Зберегти'}</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}