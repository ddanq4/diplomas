{"ast":null,"code":"// frontend/src/services/api.js\nimport axios from 'axios';\nconst HOST = (process.env.REACT_APP_API_URL || 'http://localhost:5000').trim().replace(/\\/+$/, '');\nexport const API_BASE = HOST;\nexport const apiUrl = (p = '') => `${HOST}/api/${String(p).replace(/^\\/+/, '')}`;\nconst api = axios.create({\n  baseURL: `${HOST}/api`,\n  withCredentials: true,\n  headers: {\n    'X-Requested-With': 'XMLHttpRequest'\n  }\n});\napi.interceptors.request.use(cfg => {\n  const t = localStorage.getItem('token');\n  if (t) cfg.headers.Authorization = `Bearer ${t}`;\n  return cfg;\n});\nexport default api;","map":{"version":3,"names":["axios","HOST","process","env","REACT_APP_API_URL","trim","replace","API_BASE","apiUrl","p","String","api","create","baseURL","withCredentials","headers","interceptors","request","use","cfg","t","localStorage","getItem","Authorization"],"sources":["D:/Uknord5he/BH3/dev/diplomas/frontend/src/services/api.js"],"sourcesContent":["// frontend/src/services/api.js\r\nimport axios from 'axios';\r\n\r\nconst HOST = (process.env.REACT_APP_API_URL || 'http://localhost:5000')\r\n    .trim()\r\n    .replace(/\\/+$/, '');\r\n\r\nexport const API_BASE = HOST;\r\nexport const apiUrl = (p = '') => `${HOST}/api/${String(p).replace(/^\\/+/, '')}`;\r\n\r\nconst api = axios.create({\r\n    baseURL: `${HOST}/api`,\r\n    withCredentials: true,\r\n    headers: { 'X-Requested-With': 'XMLHttpRequest' },\r\n});\r\n\r\napi.interceptors.request.use((cfg) => {\r\n    const t = localStorage.getItem('token');\r\n    if (t) cfg.headers.Authorization = `Bearer ${t}`;\r\n    return cfg;\r\n});\r\n\r\nexport default api;\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,IAAI,GAAG,CAACC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB,EACjEC,IAAI,CAAC,CAAC,CACNC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;AAExB,OAAO,MAAMC,QAAQ,GAAGN,IAAI;AAC5B,OAAO,MAAMO,MAAM,GAAGA,CAACC,CAAC,GAAG,EAAE,KAAK,GAAGR,IAAI,QAAQS,MAAM,CAACD,CAAC,CAAC,CAACH,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;AAEhF,MAAMK,GAAG,GAAGX,KAAK,CAACY,MAAM,CAAC;EACrBC,OAAO,EAAE,GAAGZ,IAAI,MAAM;EACtBa,eAAe,EAAE,IAAI;EACrBC,OAAO,EAAE;IAAE,kBAAkB,EAAE;EAAiB;AACpD,CAAC,CAAC;AAEFJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,GAAG,IAAK;EAClC,MAAMC,CAAC,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACvC,IAAIF,CAAC,EAAED,GAAG,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,CAAC,EAAE;EAChD,OAAOD,GAAG;AACd,CAAC,CAAC;AAEF,eAAeR,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}