{"ast":null,"code":"// frontend/src/services/diplomaService.js\nimport api from './api';\nconst withProgress = onProgress => onProgress ? {\n  onUploadProgress: e => {\n    if (!(e !== null && e !== void 0 && e.total)) return;\n    try {\n      onProgress(Math.round(e.loaded * 100 / e.total));\n    } catch {}\n  }\n} : {};\nexport async function getFilters() {\n  const {\n    data\n  } = await api.get('/diplomas/filters');\n  return data;\n}\nexport async function getDiplomas(params = {}) {\n  const {\n    data\n  } = await api.get('/diplomas', {\n    params\n  });\n  return data;\n}\nexport async function getDiploma(id) {\n  const {\n    data\n  } = await api.get(`/diplomas/${id}`);\n  return data;\n}\nexport async function createDiploma(formData, progressCb) {\n  const fd = formData instanceof FormData ? formData : new FormData();\n  if (!(formData instanceof FormData)) {\n    Object.entries(formData || {}).forEach(([k, v]) => fd.append(k, v));\n  }\n  const {\n    data\n  } = await api.post('/diplomas', fd, {\n    ...withProgress(progressCb)\n  });\n  return data;\n}\nexport async function updateDiploma(id, formData, progressCb) {\n  const fd = formData instanceof FormData ? formData : new FormData();\n  if (!(formData instanceof FormData)) {\n    Object.entries(formData || {}).forEach(([k, v]) => fd.append(k, v));\n  }\n  const {\n    data\n  } = await api.patch(`/diplomas/${id}`, fd, {\n    ...withProgress(progressCb)\n  });\n  return data;\n}\nexport async function deleteDiploma(id) {\n  const {\n    data\n  } = await api.delete(`/diplomas/${id}`);\n  return data;\n}\n\n// админ-подтверждение\nexport async function verifyDiploma(id, value = true) {\n  const {\n    data\n  } = await api.patch(`/diplomas/${id}`, {\n    isVerified: !!value\n  });\n  return data;\n}\nexport async function unverifyDiploma(id) {\n  return verifyDiploma(id, false);\n}","map":{"version":3,"names":["api","withProgress","onProgress","onUploadProgress","e","total","Math","round","loaded","getFilters","data","get","getDiplomas","params","getDiploma","id","createDiploma","formData","progressCb","fd","FormData","Object","entries","forEach","k","v","append","post","updateDiploma","patch","deleteDiploma","delete","verifyDiploma","value","isVerified","unverifyDiploma"],"sources":["D:/Uknord5he/BH3/dev/diplomas/frontend/src/services/diplomaService.js"],"sourcesContent":["// frontend/src/services/diplomaService.js\r\nimport api from './api';\r\n\r\nconst withProgress = (onProgress) => onProgress ? {\r\n    onUploadProgress: (e) => {\r\n        if (!e?.total) return;\r\n        try { onProgress(Math.round((e.loaded * 100) / e.total)); } catch {}\r\n    }\r\n} : {};\r\n\r\nexport async function getFilters() {\r\n    const { data } = await api.get('/diplomas/filters');\r\n    return data;\r\n}\r\n\r\nexport async function getDiplomas(params = {}) {\r\n    const { data } = await api.get('/diplomas', { params });\r\n    return data;\r\n}\r\n\r\nexport async function getDiploma(id) {\r\n    const { data } = await api.get(`/diplomas/${id}`);\r\n    return data;\r\n}\r\n\r\n\r\nexport async function createDiploma(formData, progressCb) {\r\n    const fd = formData instanceof FormData ? formData : new FormData();\r\n    if (!(formData instanceof FormData)) {\r\n        Object.entries(formData || {}).forEach(([k,v]) => fd.append(k, v));\r\n    }\r\n    const { data } = await api.post('/diplomas', fd, { ...withProgress(progressCb) });\r\n    return data;\r\n}\r\n\r\nexport async function updateDiploma(id, formData, progressCb) {\r\n    const fd = formData instanceof FormData ? formData : new FormData();\r\n    if (!(formData instanceof FormData)) {\r\n        Object.entries(formData || {}).forEach(([k,v]) => fd.append(k, v));\r\n    }\r\n    const { data } = await api.patch(`/diplomas/${id}`, fd, { ...withProgress(progressCb) });\r\n    return data;\r\n}\r\n\r\nexport async function deleteDiploma(id) {\r\n    const { data } = await api.delete(`/diplomas/${id}`);\r\n    return data;\r\n}\r\n\r\n// админ-подтверждение\r\nexport async function verifyDiploma(id, value = true) {\r\n    const { data } = await api.patch(`/diplomas/${id}`, { isVerified: !!value });\r\n    return data;\r\n}\r\nexport async function unverifyDiploma(id) { return verifyDiploma(id, false); }\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}