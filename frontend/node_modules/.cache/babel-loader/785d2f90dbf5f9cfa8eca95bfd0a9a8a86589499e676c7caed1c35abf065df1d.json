{"ast":null,"code":"var _jsxFileName = \"D:\\\\Uknord5he\\\\BH3\\\\dev\\\\diplomas\\\\frontend\\\\src\\\\pages\\\\AddDiplomaPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { api } from '../services/api';\nimport { createDiploma } from '../services/diplomaService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAX_MB = 10;\nconst ALLOWED_MIME = new Set(['application/pdf', 'image/jpeg', 'image/png']);\nexport default function AddDiplomaPage() {\n  _s();\n  const [catalog, setCatalog] = useState([]); // [{key,name,specialties:[{code,name}]}]\n  const [catalogLoading, setCatalogLoading] = useState(true);\n  const [catalogError, setCatalogError] = useState('');\n  const [faculty, setFaculty] = useState('');\n  const specialties = useMemo(() => {\n    var _catalog$find;\n    return ((_catalog$find = catalog.find(f => f.key === faculty)) === null || _catalog$find === void 0 ? void 0 : _catalog$find.specialties) || [];\n  }, [catalog, faculty]);\n  const [specialtyCode, setSpecialtyCode] = useState('');\n  const specialtyName = useMemo(() => {\n    var _specialties$find;\n    return ((_specialties$find = specialties.find(s => s.code === specialtyCode)) === null || _specialties$find === void 0 ? void 0 : _specialties$find.name) || '';\n  }, [specialties, specialtyCode]);\n  const [form, setForm] = useState({\n    studentName: '',\n    year: '',\n    diplomaNumber: ''\n  });\n  const [file, setFile] = useState(null);\n  const [errors, setErrors] = useState({});\n  const [msg, setMsg] = useState('');\n  const [progress, setProgress] = useState(0);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    let alive = true;\n    api.get('/catalog/list').then(r => {\n      if (alive) setCatalog(r.data || []);\n    }).catch(() => {\n      if (alive) setCatalogError('Не вдалося завантажити каталог');\n    }).finally(() => {\n      if (alive) setCatalogLoading(false);\n    });\n    return () => {\n      alive = false;\n    };\n  }, []);\n  const onChange = e => setForm(s => ({\n    ...s,\n    [e.target.name]: e.target.value\n  }));\n  function handleFileChange(e) {\n    var _e$target$files;\n    const f = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!f) {\n      setFile(null);\n      return;\n    }\n    if (!ALLOWED_MIME.has(f.type)) {\n      setErrors(prev => ({\n        ...prev,\n        file: 'Дозволені тільки PDF, JPG, PNG'\n      }));\n      setFile(null);\n      e.target.value = '';\n      return;\n    }\n    if (f.size > MAX_MB * 1024 * 1024) {\n      setErrors(prev => ({\n        ...prev,\n        file: `Файл > ${MAX_MB} МБ`\n      }));\n      setFile(null);\n      e.target.value = '';\n      return;\n    }\n    setErrors(prev => ({\n      ...prev,\n      file: undefined\n    }));\n    setFile(f);\n  }\n  const onSubmit = async e => {\n    e.preventDefault();\n    setErrors({});\n    setMsg('');\n    setProgress(0);\n    if (!specialtyName) {\n      setErrors(prev => ({\n        ...prev,\n        specialty: 'Оберіть спеціальність'\n      }));\n      return;\n    }\n    if (!file) {\n      setErrors(prev => ({\n        ...prev,\n        file: 'Додайте файл'\n      }));\n      return;\n    }\n    setLoading(true);\n    try {\n      const fd = new FormData();\n      fd.append('studentName', form.studentName);\n      fd.append('year', form.year);\n      fd.append('diplomaNumber', form.diplomaNumber);\n      fd.append('specialty', specialtyName);\n      fd.append('file', file);\n      await createDiploma(fd, setProgress);\n      setMsg('Диплом додано. Очікує підтвердження.');\n      setFaculty('');\n      setSpecialtyCode('');\n      setForm({\n        studentName: '',\n        year: '',\n        diplomaNumber: ''\n      });\n      setFile(null);\n      setProgress(0);\n    } catch (err) {\n      var _err$response;\n      const data = (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data;\n      setMsg((data === null || data === void 0 ? void 0 : data.message) || 'Помилка завантаження');\n      setErrors((data === null || data === void 0 ? void 0 : data.errors) || {});\n    } finally {\n      setLoading(false);\n    }\n  };\n  const err = k => (errors === null || errors === void 0 ? void 0 : errors[k]) && /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-red-600 text-sm mt-1\",\n    children: errors[k]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 37\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-xl mx-auto bg-white p-6 shadow rounded\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: \"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u0434\\u0438\\u043F\\u043B\\u043E\\u043C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), catalogError && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-600 mb-3\",\n      children: catalogError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 26\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: /✅/.test(msg) ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-green-700\",\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 32\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600\",\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 74\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-1\",\n          children: \"\\u0424\\u0430\\u043A\\u0443\\u043B\\u044C\\u0442\\u0435\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"w-full border px-3 py-2 rounded\",\n          value: faculty,\n          onChange: e => {\n            setFaculty(e.target.value);\n            setSpecialtyCode('');\n          },\n          disabled: catalogLoading,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u2014 \\u041E\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u0444\\u0430\\u043A\\u0443\\u043B\\u044C\\u0442\\u0435\\u0442 \\u2014\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), catalog.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: f.key,\n            children: f.name\n          }, f.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-1\",\n          children: \"\\u0421\\u043F\\u0435\\u0446\\u0456\\u0430\\u043B\\u044C\\u043D\\u0456\\u0441\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"w-full border px-3 py-2 rounded\",\n          value: specialtyCode,\n          onChange: e => setSpecialtyCode(e.target.value),\n          disabled: !faculty || catalogLoading,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u2014 \\u041E\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u0441\\u043F\\u0435\\u0446\\u0456\\u0430\\u043B\\u044C\\u043D\\u0456\\u0441\\u0442\\u044C \\u2014\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), specialties.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: s.code,\n            children: [s.code, \" \\u2014 \", s.name]\n          }, s.code, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), err('specialty')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-1\",\n          children: \"\\u041F\\u0406\\u0411\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"studentName\",\n          value: form.studentName,\n          onChange: onChange,\n          required: true,\n          className: \"w-full border px-3 py-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), err('studentName')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block mb-1\",\n            children: \"\\u0420\\u0456\\u043A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"year\",\n            type: \"number\",\n            min: \"1900\",\n            max: new Date().getFullYear(),\n            value: form.year,\n            onChange: onChange,\n            required: true,\n            className: \"w-full border px-3 py-2 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), err('year')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block mb-1\",\n            children: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0434\\u0438\\u043F\\u043B\\u043E\\u043C\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"diplomaNumber\",\n            value: form.diplomaNumber,\n            onChange: onChange,\n            required: true,\n            className: \"w-full border px-3 py-2 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), err('diplomaNumber')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-1\",\n          children: [\"\\u0424\\u0430\\u0439\\u043B (PDF/JPG/PNG, \\u2264\", MAX_MB, \" \\u041C\\u0411)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".pdf,.jpg,.jpeg,.png\",\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), err('file')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-200 rounded h-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-3 rounded bg-blue-600\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm mt-1\",\n          children: [progress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: loading,\n        className: \"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\",\n        children: loading ? 'Завантаження…' : 'Завантажити диплом'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 7\n  }, this);\n}\n_s(AddDiplomaPage, \"BHvsczU4Or6w3zMPnwIYDzCJXCE=\");\n_c = AddDiplomaPage;\nvar _c;\n$RefreshReg$(_c, \"AddDiplomaPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","api","createDiploma","jsxDEV","_jsxDEV","MAX_MB","ALLOWED_MIME","Set","AddDiplomaPage","_s","catalog","setCatalog","catalogLoading","setCatalogLoading","catalogError","setCatalogError","faculty","setFaculty","specialties","_catalog$find","find","f","key","specialtyCode","setSpecialtyCode","specialtyName","_specialties$find","s","code","name","form","setForm","studentName","year","diplomaNumber","file","setFile","errors","setErrors","msg","setMsg","progress","setProgress","loading","setLoading","alive","get","then","r","data","catch","finally","onChange","e","target","value","handleFileChange","_e$target$files","files","has","type","prev","size","undefined","onSubmit","preventDefault","specialty","fd","FormData","append","err","_err$response","response","message","k","className","children","fileName","_jsxFileName","lineNumber","columnNumber","test","disabled","map","required","min","max","Date","getFullYear","accept","style","width","_c","$RefreshReg$"],"sources":["D:/Uknord5he/BH3/dev/diplomas/frontend/src/pages/AddDiplomaPage.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { api } from '../services/api';\nimport { createDiploma } from '../services/diplomaService';\n\nconst MAX_MB = 10;\nconst ALLOWED_MIME = new Set(['application/pdf', 'image/jpeg', 'image/png']);\n\nexport default function AddDiplomaPage() {\n  const [catalog, setCatalog] = useState([]); // [{key,name,specialties:[{code,name}]}]\n  const [catalogLoading, setCatalogLoading] = useState(true);\n  const [catalogError, setCatalogError] = useState('');\n\n  const [faculty, setFaculty] = useState('');\n  const specialties = useMemo(\n      () => (catalog.find(f => f.key === faculty)?.specialties || []),\n      [catalog, faculty]\n  );\n  const [specialtyCode, setSpecialtyCode] = useState('');\n  const specialtyName = useMemo(\n      () => specialties.find(s => s.code === specialtyCode)?.name || '',\n      [specialties, specialtyCode]\n  );\n\n  const [form, setForm] = useState({ studentName: '', year: '', diplomaNumber: '' });\n  const [file, setFile] = useState(null);\n  const [errors, setErrors] = useState({});\n  const [msg, setMsg] = useState('');\n  const [progress, setProgress] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    let alive = true;\n    api.get('/catalog/list')\n        .then(r => { if (alive) setCatalog(r.data || []); })\n        .catch(() => { if (alive) setCatalogError('Не вдалося завантажити каталог'); })\n        .finally(() => { if (alive) setCatalogLoading(false); });\n    return () => { alive = false; };\n  }, []);\n\n  const onChange = (e) => setForm((s) => ({ ...s, [e.target.name]: e.target.value }));\n\n  function handleFileChange(e) {\n    const f = e.target.files?.[0];\n    if (!f) { setFile(null); return; }\n\n    if (!ALLOWED_MIME.has(f.type)) {\n      setErrors(prev => ({ ...prev, file: 'Дозволені тільки PDF, JPG, PNG' }));\n      setFile(null);\n      e.target.value = '';\n      return;\n    }\n    if (f.size > MAX_MB * 1024 * 1024) {\n      setErrors(prev => ({ ...prev, file: `Файл > ${MAX_MB} МБ` }));\n      setFile(null);\n      e.target.value = '';\n      return;\n    }\n    setErrors(prev => ({ ...prev, file: undefined }));\n    setFile(f);\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setErrors({}); setMsg(''); setProgress(0);\n\n    if (!specialtyName) {\n      setErrors(prev => ({ ...prev, specialty: 'Оберіть спеціальність' }));\n      return;\n    }\n    if (!file) {\n      setErrors(prev => ({ ...prev, file: 'Додайте файл' }));\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const fd = new FormData();\n      fd.append('studentName', form.studentName);\n      fd.append('year', form.year);\n      fd.append('diplomaNumber', form.diplomaNumber);\n      fd.append('specialty', specialtyName);\n      fd.append('file', file);\n\n      await createDiploma(fd, setProgress);\n\n      setMsg('Диплом додано. Очікує підтвердження.');\n      setFaculty('');\n      setSpecialtyCode('');\n      setForm({ studentName: '', year: '', diplomaNumber: '' });\n      setFile(null);\n      setProgress(0);\n    } catch (err) {\n      const data = err.response?.data;\n      setMsg(data?.message || 'Помилка завантаження');\n      setErrors(data?.errors || {});\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const err = (k) => errors?.[k] && <p className=\"text-red-600 text-sm mt-1\">{errors[k]}</p>;\n\n  return (\n      <div className=\"max-w-xl mx-auto bg-white p-6 shadow rounded\">\n        <h2 className=\"text-2xl font-semibold mb-4\">Додати диплом</h2>\n\n        {catalogError && <p className=\"text-red-600 mb-3\">{catalogError}</p>}\n        {msg && (\n            <div className=\"mb-3\">\n              {/✅/.test(msg) ? <p className=\"text-green-700\">{msg}</p> : <p className=\"text-red-600\">{msg}</p>}\n            </div>\n        )}\n\n        <form onSubmit={onSubmit} className=\"space-y-4\">\n          <div>\n            <label className=\"block mb-1\">Факультет</label>\n            <select\n                className=\"w-full border px-3 py-2 rounded\"\n                value={faculty}\n                onChange={(e) => { setFaculty(e.target.value); setSpecialtyCode(''); }}\n                disabled={catalogLoading}\n            >\n              <option value=\"\">— Оберіть факультет —</option>\n              {catalog.map(f => (\n                  <option key={f.key} value={f.key}>{f.name}</option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block mb-1\">Спеціальність</label>\n            <select\n                className=\"w-full border px-3 py-2 rounded\"\n                value={specialtyCode}\n                onChange={(e) => setSpecialtyCode(e.target.value)}\n                disabled={!faculty || catalogLoading}\n            >\n              <option value=\"\">— Оберіть спеціальність —</option>\n              {specialties.map(s => (\n                  <option key={s.code} value={s.code}>{s.code} — {s.name}</option>\n              ))}\n            </select>\n            {err('specialty')}\n          </div>\n\n          <div>\n            <label className=\"block mb-1\">ПІБ</label>\n            <input\n                name=\"studentName\"\n                value={form.studentName}\n                onChange={onChange}\n                required\n                className=\"w-full border px-3 py-2 rounded\"\n            />\n            {err('studentName')}\n          </div>\n\n          <div className=\"flex gap-3\">\n            <div className=\"flex-1\">\n              <label className=\"block mb-1\">Рік</label>\n              <input\n                  name=\"year\"\n                  type=\"number\"\n                  min=\"1900\"\n                  max={new Date().getFullYear()}\n                  value={form.year}\n                  onChange={onChange}\n                  required\n                  className=\"w-full border px-3 py-2 rounded\"\n              />\n              {err('year')}\n            </div>\n            <div className=\"flex-1\">\n              <label className=\"block mb-1\">Номер диплому</label>\n              <input\n                  name=\"diplomaNumber\"\n                  value={form.diplomaNumber}\n                  onChange={onChange}\n                  required\n                  className=\"w-full border px-3 py-2 rounded\"\n              />\n              {err('diplomaNumber')}\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block mb-1\">Файл (PDF/JPG/PNG, ≤{MAX_MB} МБ)</label>\n            <input\n                type=\"file\"\n                accept=\".pdf,.jpg,.jpeg,.png\"\n                onChange={handleFileChange}\n            />\n            {err('file')}\n          </div>\n\n          {loading && (\n              <div className=\"w-full bg-gray-200 rounded h-3\">\n                <div className=\"h-3 rounded bg-blue-600\" style={{ width: `${progress}%` }} />\n                <p className=\"text-sm mt-1\">{progress}%</p>\n              </div>\n          )}\n\n          <button\n              disabled={loading}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\n          >\n            {loading ? 'Завантаження…' : 'Завантажити диплом'}\n          </button>\n        </form>\n      </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}